<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Compra de Claves - JnCodes</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        body {
            background: linear-gradient(45deg, #1e3c72, #2a5298);
            color: white;
        }
        .container {
            margin-top: 50px;
        }
        .form-control,
        .btn-custom {
            background-color: rgba(0, 0, 0, 0.7);
            border: none;
            color: white;
            transition: background-color 0.3s ease;
        }
        .form-control::placeholder {
            color: #ccc;
        }
        .form-control:focus {
            background-color: rgba(0, 0, 0, 0.8);
            border: 1px solid #f8b400;
            color: white;
        }
        .btn-custom {
            background-color: #f8b400;
            border: none;
            color: white;
        }
        .btn-custom:hover {
            background-color: #ffc107;
        }
        .product-card {
            background-color: rgba(255, 255, 255, 0.2);
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            padding: 1.5rem;
            margin: 1rem 0;
        }
        .product-card img {
            max-width: 100%;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }
        .product-card h3 {
            color: #f8b400;
        }
        .navbar {
            background: rgba(0, 0, 0, 0.7);
        }
        .navbar-nav .nav-link {
            color: white;
        }
        .navbar-nav .nav-link:hover {
            color: #f8b400;
        }
    </style>
</head>
<body>

    <!-- Navbar -->
    <nav class="navbar navbar-expand-lg navbar-dark">
        <div class="container">
            <a class="navbar-brand" href="#">JnCodes</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item">
                        <a class="nav-link text-white" href="index.html">Inicio</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link text-white" href="menu.html">Menu</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link text-white" href="contacto.html">Contacto</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link text-white" href="nosotro.html">Nosotros</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link text-white" href="foro.html">foro</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- Compra de Claves -->
    <div class="container">
        <h2 class="text-center mb-4">Compra tu Clave de Windows</h2>
        <div class="row">
            <!-- Producto Windows 7 -->
            <div class="col-md-4">
                <div class="product-card">
                    <img src="https://cdn.neowin.com/news/images/uploaded/2019/02/1549790713_windows7_story.jpg" alt="Windows 7">
                    <h3>Windows 7</h3>
                    <p>Precio: $100</p>
                    <button class="btn btn-custom" data-bs-toggle="modal" data-bs-target="#purchaseModal" onclick="setProduct('Windows 7', 100)">Comprar</button>
                </div>
            </div>
            <!-- Producto Windows 10 -->
            <div class="col-md-4">
                <div class="product-card">
                    <img src="https://sysquest.com.pa/wp-content/uploads/2016/02/Microsoft-Windows-10.jpg" alt="Windows 10">
                    <h3>Windows 10</h3>
                    <p>Precio: $150</p>
                    <button class="btn btn-custom" data-bs-toggle="modal" data-bs-target="#purchaseModal" onclick="setProduct('Windows 10', 150)">Comprar</button>
                </div>
            </div>
            <!-- Producto Windows 11 -->
            <div class="col-md-4">
                <div class="product-card">
                    <img src="https://static2.pisapapeles.net/uploads/2021/08/windows_11_generic_hero_1.jpg" alt="Windows 11">
                    <h3>Windows 11</h3>
                    <p>Precio: $200</p>
                    <button class="btn btn-custom" data-bs-toggle="modal" data-bs-target="#purchaseModal" onclick="setProduct('Windows 11', 200)">Comprar</button>
                </div>
            </div>
            <!-- Producto Windows 11 Pro -->
            <div class="col-md-4">
                <div class="product-card">
                    <img src="https://d2kbvjszk9d5ln.cloudfront.net/yshop/upload/pic/windows-11-pro%282%29-20230606083727680.jpg" alt="Windows 11 Pro">
                    <h3>Windows 11 Pro</h3>
                    <p>Precio: $250</p>
                    <button class="btn btn-custom" data-bs-toggle="modal" data-bs-target="#purchaseModal" onclick="setProduct('Windows 11 Pro', 250)">Comprar</button>
                </div>
            </div>
            <!-- Producto Windows 10 Pro -->
            <div class="col-md-4">
                <div class="product-card">
                    <img src="https://www.trustedtechteam.com/cdn/shop/t/70/assets/win10pro_lg.png?v=135175244882138030321654719022" alt="Windows 10 Pro">
                    <h3>Windows 10 Pro</h3>
                    <p>Precio: $220</p>
                    <button class="btn btn-custom" data-bs-toggle="modal" data-bs-target="#purchaseModal" onclick="setProduct('Windows 10 Pro', 220)">Comprar</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal Compra -->
    <div class="modal fade" id="purchaseModal" tabindex="-1" aria-labelledby="purchaseModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="purchaseModalLabel">Compra de Clave</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form id="purchaseForm">
                        <div class="mb-3">
                            <label for="productName" class="form-label">Producto</label>
                            <input type="text" class="form-control" id="productName" readonly>
                        </div>
                        <div class="mb-3">
                            <label for="productPrice" class="form-label">Precio</label>
                            <input type="text" class="form-control" id="productPrice" readonly>
                        </div>
                        <div class="mb-3">
                            <label for="cardNumber" class="form-label">Número de Tarjeta</label>
                            <input type="text" class="form-control" id="cardNumber" placeholder="1234 5678 9123 4567">
                        </div>
                        <div class="mb-3">
                            <label for="expiryDate" class="form-label">Fecha de Expiración</label>
                            <input type="text" class="form-control" id="expiryDate" placeholder="MM/AA">
                        </div>
                        <div class="mb-3">
                            <label for="cvv" class="form-label">CVV</label>
                            <input type="text" class="form-control" id="cvv" placeholder="123">
                        </div>
                        <button type="submit" class="btn btn-custom">Pagar y Obtener Clave</button>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        function setProduct(name, price) {
            document.getElementById('productName').value = name;
            document.getElementById('productPrice').value = '$' + price;
        }

        function generateKey() {
            const chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789';
            let key = '';
            for (let i = 0; i < 25; i++) {
                key += chars.charAt(Math.floor(Math.random() * chars.length));
                if (i % 5 === 4 && i < 24) key += '-';
            }
            return key;
        }

        document.getElementById('purchaseForm').addEventListener('submit', function(event) {
            event.preventDefault();
            const product = document.getElementById('productName').value;
            const price = document.getElementById('productPrice').value;
            const key = generateKey();
            alert('Gracias por su compra. Su clave es: ' + key);

            // Create and download the receipt
            const receiptContent = `Factura\nProducto: ${product}\nPrecio: ${price}\nClave: ${key}\n\nGracias por comprar con nosotros.`;
            const blob = new Blob([receiptContent], { type: 'text/plain' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'factura.txt';
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);

            // Close the modal
            const modal = bootstrap.Modal.getInstance(document.getElementById('purchaseModal'));
            modal.hide();
        });
    </script>
</body>
</html>
